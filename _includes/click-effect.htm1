<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<title>全屏扩散粒子</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
html,body{margin:0;height:100vh;background:#0a0a0a;overflow:hidden;}
/* 粒子公用样式 */
.particle{
  position:fixed;
  border-radius:50%;
  pointer-events:none;
  will-change:transform,opacity;   /* 硬件加速 */
}
</style>
</head>
<body>

<script>
/* ========== 全局扩散粒子 ========== */
const colorPool=['#ff6b6b','#f9ca24','#4ecdc4','#45b7d1','#dfe6e9','#a29bfe','#fd79a8'];

document.addEventListener('click',e=>{
  const {clientX:x,clientY:y}=e;
  const amount=60+Math.floor(Math.random()*40);      // 60~100 颗
  for(let i=0;i<amount;i++){
    const p=document.createElement('i');
    p.className='particle';

    /* 随机属性 */
    const size   =2+Math.random()*5;                 // 2~7 px
    const angle  =Math.random()*360;                 // 0~360°
    const dist   =80+Math.random()*120;              // 80~200 px
    const dur    =1.2+Math.random()*.8;              // 1.2~2 s
    const bright =colorPool[Math.floor(Math.random()*colorPool.length)];

    /* 起始位置 */
    p.style.left=`${x}px`;
    p.style.top =`${y}px`;
    p.style.width=p.style.height=`${size}px`;
    p.style.background=bright;
    p.style.boxShadow=`0 0 ${size*2}px ${bright}`;   // 发光
    p.style.zIndex=9999;

    /* 动画：先快后慢（ease-out） */
    p.style.animation=`spread ${dur}s ease-out forwards`;
    p.style.transformOrigin='center center';

    /* 把“方向”写进自定义属性，再由 keyframes 读取 */
    p.style.setProperty('--angle',`${angle}deg`);
    p.style.setProperty('--dist',`${dist}px`);

    document.body.appendChild(p);
    p.addEventListener('animationend',()=>p.remove());
  }
});

/* ====== 只用一套 keyframes，所有粒子复用 ====== */
const style=document.createElement('style');
style.textContent=`
@keyframes spread{
  0%{
    transform:translate(-50%,-50%) rotate(var(--angle)) translateX(0) scale(1);
    opacity:1;
  }
  100%{
    transform:translate(-50%,-50%) rotate(var(--angle)) translateX(var(--dist)) scale(0);
    opacity:0;
  }
}`;
document.head.appendChild(style);
</script>
</body>
</html> 
